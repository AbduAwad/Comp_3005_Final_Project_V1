-- DDL -- Data Definition Language
CREATE TABLE Countrys (
    country_id,
    country_name,
);
-- Countrys Table:
	-- Countrys(country_id, PK country_name)

CREATE TABLE Competitions (
	competition_id,
	competition_name,
    country_name,
    competition_gender,
    competition_youth,
    competition_international,
);
-- Competitions Table:
    -- Competitions(PK competition_id, competition_name, FK country_name, competition_gender, competition_youth, competition_international)

CREATE TABLE Seasons (
    season_id,
	competition_id,
	season_name,
);

-- Seasons Table:
    -- Seasons(PK season_id, FK competition_id, season_name)

CREATE TABLE Stadiums (
    stadium_id,
    stadium_name,
    stadium_country_id,
);
-- Stadiums Table:
    -- Stadiums(PK stadium_id, stadium_name, FK stadium_country_id)

CREATE TABLE Referees (
    referee_id,
    referee_name,
    referee_country_id,

);
-- Referees Table:
    -- Referees(PK referee_id, referee_name, FK referee_country_id)
CREATE TABLE Managers (
    manager_id,
    manager_name,
    manager_nickname,
    manager_dob DATE,
    manager_country_id,

);
-- Managers Table:
    -- Managers(PK manager_id, manager_name, manager_nickname, manager_dob, FK manager_country_id)
CREATE TABLE Teams (
    team_id,
    team_name,
    team_gender,
    team_group,
    team_country_id,
    manager_id,

);
-- Teams Table:
    -- Teams(PK team_id, team_name, team_gender, team_group, FK team_country_id, FK manager_id)

CREATE TABLE Matches (
    match_id,
	competition_id,
	season_id,
    competition_name,
    season_name,
    match_date,
    kick_off,
    home_team_id,
    away_team_id,
    home_score,
    away_score,
    match_week,
    competition_stage,
    stadium_id,
    referee_id,

);
-- Matches Table:
    -- Matches(PK match_id, FK competition_id, FK season_id, competition_name, season_name, match_date, kick_off, FK home_team_id, FK away_team_id, home_score, away_score, match_week, competition_stage, FK stadium_id, FK referee_id)

CREATE TABLE Players (
    player_id,
    player_name,
    player_nickname,
    jersey_number,
    country_id,
    country_name,
    position_id,
    position_name,
    team_name,
  
);
-- Players Table:
    -- Players(PK player_id, player_name, player_nickname, jersey_number, FK country_id, FK country_name, FK position_id, position_name, FK team_name)

CREATE TABLE TeamFormations (
    match_id,
    team_id, 
    formation,

);
-- TeamFormations Table:
    -- TeamFormations(FK match_id, FK team_id, formation)

CREATE TABLE GenericEvents (
    event_id,
    idx,
    periods,
    time_stamp TIME,
    minute_time,
    second_time,
    type_id,
    type_name,
    possession,
    possession_team_id,
    play_pattern_id,
    play_pattern_name,
    team_id,
    location_x,
    location_y,
    duration,
    counterpress,
    player_id,
    team_name,
    player_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,

);
-- GenericEvents Table:
    -- GenericEvents(PK event_id, idx, periods, time_stamp, minute_time, second_time, type_id, type_name, possession, possession_team_id, play_pattern_id, play_pattern_name, FK team_id, location_x, location_y, duration, counterpress, FK player_id, team_name, player_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)

CREATE TABLE Passes (
    event_id,
    team_id,
    player_id,
    recipient_id,
    recipient_name,
    pass_length,
    angle,
    height_id,
    height_name,
    aerial_won,
    end_location_x,
    end_location_y,
    assisted_shot_id,
    deflected,
    miscommunication,
    is_cross,
    cut_back,
    switch,
    shot_assist,
    goal_assist,
    body_part_id,
    body_part_name,
    pass_type_id,
    pass_type_name,
    outcome_id,
    outcome_name,
    technique_id,
    technique_name,  
    team_name,
    player_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,

);
-- Passes Table:
    -- Passes(PK event_id, FK team_id, FK player_id, FK recipient_id, recipient_name, pass_length, angle, height_id, height_name, aerial_won, end_location_x, end_location_y, assisted_shot_id, deflected, miscommunication, is_cross, cut_back, switch, shot_assist, goal_assist, body_part_id, body_part_name, pass_type_id, pass_type_name, outcome_id, outcome_name, technique_id, technique_name, FK team_name, FK player_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLE TeamPassesSummary (
    event_id,
    team_name,
    season_name,

) PARTITION BY LIST (season_name);

CREATE TABLE PassRecipients (
    event_id,
    recipient_name,
    season_name,

) PARTITION BY LIST (season_name);
-- PassRecipients Table:
    -- PassRecipients(PK event_id, recipient_name, FK season_name)


CREATE TABLE PlayerThroughBalls (
    event_id,
    player_name,
    season_name,
    technique_name,

) PARTITION BY LIST (season_name);


CREATE TABLE TeamThroughBalls (
    event_id,
    team_name,
    season_name,
    technique_name,

) PARTITION BY LIST (season_name);
-- TeamThroughBalls Table:


CREATE TABLE Shots (
    event_id,
    team_id,
    player_id,
    statsbomb_xg,
    end_location_x,
    end_location_y,
    end_location_z,
    follows_dribble,
    first_time,
    open_goal,
    deflected,
    technique_id,
    technique_name,
    body_part_id,
    body_part_name,
    type_id,
    type_name,
    outcome_id,
    outcome_name,
    team_name,
    player_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,

);
-- Shots Table:
    -- Shots(PK event_id, FK team_id, FK player_id, statsbomb_xg, end_location_x, end_location_y, end_location_z, follows_dribble, first_time, open_goal, deflected, technique_id, technique_name, body_part_id, body_part_name, type_id, type_name, outcome_id, outcome_name, FK team_name, FK player_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLE TeamShotsSummary (
    event_id,
    team_name,
    season_name,

) PARTITION BY LIST (season_name);


CREATE TABLE PlayerShotsSummary (
    event_id,
    player_name,
    season_name,

) PARTITION BY LIST (season_name);
-- PlayerShotsSummary Table:
    -- PlayerShotsSummary(PK event_id, FK player_name, FK season_name)


CREATE TABLE Statsbomb (
    event_id,
    player_name,
    statsbomb_xg,
    season_name,

) PARTITION BY LIST (season_name);


CREATE TABLE FirstTimeShots (
    event_id,
    player_name,
    first_time,
    season_name,

) PARTITION BY LIST (season_name);


CREATE TABLE Dribbles (
    event_id,
    team_id,
    player_id,
    overrun,
    nutmeg,
    outcome_id,
    outcome_name,
    no_touch,
    team_name,
    player_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,

);
-- Dribbles Table:
    -- Dribbles(PK event_id, FK team_id, FK player_id, overrun, nutmeg, outcome_id, outcome_name, no_touch, FK team_name, FK player_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLE PlayerDribbles (
    event_id,
    player_name,
    season_name,
    outcome_name,

) PARTITION BY LIST (season_name);

CREATE TABLE BadBehaviours(
    event_id,
    team_id,
    player_id,
    card_id, 
    card_name,
    team_name,
    player_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,

);
-- BadBehaviours Table:
    -- BadBehaviours(PK event_id, FK team_id, FK player_id, FK card_id, card_name, FK team_name, FK player_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLE BallReceipts(
    event_id,
    team_id,
    player_id,
    outcome_id,
    outcome_name,
    team_name,
    player_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,

);
-- BallReceipts Table:
    -- BallReceipts(PK event_id, FK team_id, FK player_id, outcome_id, outcome_name, FK team_name, FK player_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLE BallRecoveries(
    event_id,
    team_id,
    player_id,
    offensive,
    recovery_failure,
    team_name,
    player_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,
);
-- BallRecoveries Table:
    -- BallRecoveries(PK event_id, FK team_id, FK player_id, offensive, recovery_failure, FK team_name, FK player_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLE Blocks(
    event_id,
    team_id,
    player_id,
    deflection,
    offensive,
    save_block,
    team_name,
    player_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,
);
-- Blocks Table:
    -- Blocks(PK event_id, FK team_id, FK player_id, deflection, offensive, save_block, FK team_name, FK player_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLE Carries (
    event_id,
    team_id,
    player_id,
    carry_end_location_x, 
    carry_end_location_y,
    team_name,
    player_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,
);
-- Carries Table:
    -- Carries(PK event_id, FK team_id, FK player_id, carry_end_location_x, carry_end_location_y, FK team_name, FK player_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLE Clearances (
    event_id,
    team_id,
    player_id,
    aerial_won,
    body_part_id,
    body_part_name,
    team_name,
    player_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,
);
-- Clearances Table:
    -- Clearances(PK event_id, FK team_id, FK player_id, aerial_won, body_part_id, body_part_name, FK team_name, FK player_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLE Duels (
    event_id,
    team_id,
    player_id,
    duel_type_id,
    duel_type_name,
    outcome_id,
    outcome_name,
    team_name,
    player_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,
);
-- Duels Table:
    -- Duels(PK event_id, FK team_id, FK player_id, duel_type_id, duel_type_name, outcome_id, outcome_name, FK team_name, FK player_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLE FoulsCommitted (
    event_id,
    team_id,
    player_id,
    offensive,
    foul_type_id,
    foul_type_name,
    advantage,
    penalty,
    card_id,
    card_name,
    team_name,
    player_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,
);
-- FoulsCommitted Table:
    -- FoulsCommitted(PK event_id, FK team_id, FK player_id, offensive, foul_type_id, foul_type_name, advantage, penalty, FK card_id, card_name, FK team_name, FK player_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLE FoulsWon (
    event_id,
    team_id,
    player_id,
    defensive,
    advantage,
    penalty,
    team_name,
    player_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,
);
-- FoulsWon Table:
    -- FoulsWon(PK event_id, FK team_id, FK player_id, defensive, advantage, penalty, FK team_name, FK player_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLE GoalkeeperEvents (
    event_id,
    team_id,
    player_id,
    position_id,
    position_name,
    technique_id,
    technique_name,
    body_part_id,
    body_part_name,
    type_id,
    type_name,
    outcome_id,
    outcome_name,
    team_name,
    player_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,
);
-- GoalkeeperEvents Table:
    -- GoalkeeperEvents(PK event_id, FK team_id, FK player_id, position_id, position_name, technique_id, technique_name, body_part_id, body_part_name, type_id, type_name, outcome_id, outcome_name, FK team_name, FK player_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLEerceptions (
    event_id,
    team_id,
    player_id,
    outcome_id,
    outcome_name,
    team_name,
    player_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,
);
--erceptions Table:
    --erceptions(PK event_id, FK team_id, FK player_id, outcome_id, outcome_name, FK team_name, FK player_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLE Substitutions (
    event_id,
    team_id,
    player_id,
    replacement_id,
    replacement_name,
    outcome_id,
    outcome_name,
    team_name,
    player_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,
);
-- Substitutions Table:
    -- Substitutions(PK event_id, FK team_id, FK player_id, FK replacement_id, replacement_name, outcome_id, outcome_name, FK team_name, FK player_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLE FreezeFrames (
    event_id,
    location_x,
    location_y,
    player_id,
    teammate,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,
);
-- FreezeFrames Table:
    -- FreezeFrames(PK event_id, location_x, location_y, FK player_id, teammate, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLE DribbledPasts ( -- A row for everytime a player is dribbled past --
    event_id,
    player_name,
    player_id,
    team_name,
    match_id,
    season_id,
    competition_id,
    season_name,
    competition_name,
);
-- DribbledPasts Table:
    -- DribbledPasts(PK event_id, FK player_name, FK player_id, FK team_name, FK match_id, FK season_id, FK competition_id, season_name, competition_name)
CREATE TABLE DribbledPastsSummary (
    event_id,
    player_name,
    season_name,
) PARTITION BY LIST (season_name);

CREATE TABLE PlayerMinutes (
    player_id,
    match_id,
    first_half_start_time,
    first_half_end_time,
    first_half_start_reason,
    first_half_end_reason,
    second_half_start_time,
    second_half_end_time,
    second_half_start_reason,
    second_half_end_reason,
);
-- PlayerMinutes Table:
    -- PlayerMinutes(FK player_id, FK match_id, first_half_start_time, first_half_end_time, first_half_start_reason, first_half_end_reason, second_half_start_time, second_half_end_time, second_half_start_reason, second_half_end_reason)
CREATE TABLE StartingLineups (
    match_id,
    team_id,
    player_id,
);
-- StartingLineups Table:
    -- StartingLineups(FK match_id, FK team_id, FK player_id)